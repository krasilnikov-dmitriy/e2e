<h2>End-To-End тесты безумно дорогие</h2>

<aside class="notes">
    Пример:

    Как долго вам нужно писать 100 000 тестов? Если для каждого теста требуется 30 минут, это включает в себя время на подумать, время,
    затрачиваемое на тестирование, чтобы оно проходило в первый раз, и время на поддержку тестового окружения т. д.
    - то есть вам необходимо 6 250 восьмичасовых человеко-дней или 1 250 человеко-недель ну или 26 человеко-лет.

    Даже если я ошибся в пять раз, вам все равно понадобятся ПЯТЬ тестировщиков для одногодичного проекта
    и они будут работать восемь часов в день, и молитесь, чтоб они ни разу не допустили ошибку в тестах,
    потому что у вас нет времени переписывать эти тесты.

    У нас 15 тестировщиков (в 3 раза больше), и все равно мы не можем писать больше, чем 50 тестов в неделю, а это всего-то 2 500 тестов в год!
    Не 100 000!

    2,5% от числа, необходимого для полного тестирования нашего приложения.
    Даже если вдруг вы написали самые важные 2.5%, признав почти бесконечное дублирование в полном комплекте тестов,
    вы бы покрыли где-то между 10% и 80% вашего кода, и вы не знаете, приближаетесь ли вы к 10% или 80%,
    пока ваши клиенты не начнут использовать ваш первый релиз. Круто? А?

    Таким образом, вы пишете 2 500 тестов. Возможно, вы даже написали 5 000 из них.

    Когда клиент обнаружит ошибку, что вы сделаете? Правильно, напишите еще немного e2e тестов. Чем больше e2e тесты вы пишете,
    тем больше ощущается ложное чувство безопасности. (Помните, что вы просто увеличили тестовыое покрытие с 5% до 5,01%
    с помощью этих десяти e2e тестов.)
    Это ложное чувство безопасности помогает вам чувствовать себя хорошо выпуская еще более неработающий код для ваших клиентов,
    а это значит, что они находят больше дефектов, которые вы покрываете еще большим кроличеством e2e тестов.
    Со временем ваше покрытие кода уменьшается, потому что сложность вашей кодовой базы растет быстрее,
    чем ваша способность писать достаточно e2e тестов для ее покрытия....

    Вы не cможете выиграть эту игру. Мы не смогли!

    (Покупка устройств Dino Systems) - в покупке задействованно 12 сервисов
    Даже если на секундочку представить, что в каждом из сервисов нет никакой логики, нам нужно минимум 2^12 4096 тестов,
    если же хотя бы в половине этих сервисов есть хоть какая то условная логика, то нам нужно 2.5^12 59 605 тестов!
    Мы написали 835 тестов, 1.4% покрытия!

    Тестировать только e2e тестами - это гадость - самовоспроизводящийся вирус, который угрожает заразить ваше тестирование,
    ваш проект и вашу команду бесконечной болью и страданиями.

    Я серьезно. Я ненавижу e2e тесты. Я ненавижу их так сильно, что каждое утро встаю пораньше, чтобы дольше их ненавидеть.

    я вообще не хочу полагаться на тесты, которые могут упасть по разным причинам. Эти тесты создают больше проблем, чем они решают.

    От них нужно отказываться.
</aside>
