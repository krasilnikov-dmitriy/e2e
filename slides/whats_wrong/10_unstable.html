<h2>Нестабильные</h2>

<aside class="notes">
    е2е тесты - нестабильны, это аксиома и сама большая проблема автоматизации тестирования, причем
    причин этой нестабильности много, и не все из них мы можем котролировать:
    1) Порядок выполнения тестов и паралелизм
    2) Проблемы с инфраструктурой
    3) Сторонние зависимости
    4) Тесты

    В одной из статей (https://testing.googleblog.com/2016/05/flaky-tests-at-google-and-how-we.html)
    гугл признавался что у иних примерно 1.5% тестов нестабильны, как это не странно у нас тоже
    от 0.7% до 3.2% в зависимости от прогона и стреднее значение 1.5%.

    1.5% это очень много, ведь у нас более 16 000 тестов, а это значит что 250 из них время от времени падают и все
    эти падения необходимо разобрать.

    Но самое интересное не процент нестабильных тестов, а то как тестировщики борются с этой нестабильностью.

    sleep вначале теста, sleep вконце теста, sleep в beforeMethod, sleep в afterMethod, sleep внутри теста.

    Эта история всегда одинаковая для всех проектов, все начинают с нескольких сот милисекунд, вот только потом легко обнаружить
    минутные слипы, однажды я даже нашел слип на 10 минут! Разумеется все они использовались исключительно чтоб стабилизировать тесты.

    Как следтвие такие тесты становятся медленными.

    Что мы делаем если прогон тестов медленный? - Правильно паралелим его, и чем сильнее мы его паралелим тем больше тестов падает
    и разумеется мы их фиксим с помощью слипов, вот такой вот порочный круг получается.
</aside>
